/*!
(C) Andrea Giammarchi, @WebReflection - Mit Style License
*/
var wru=function(W){function i(){y=I.call(l);if(y){(N=k(k(X.node,"div"),"span"))[C]=((ae(y,Q)&&y[Q])||(ae(y,e)&&y[e])||O)+h+h;a=[];s=[];R=[];Z={};b("setup");R[af]||b("test");L||p()}else{r()}}function n(ah){try{return M.call(g,ah)}catch(ag){return g.createElement(ah)}}function k(ag,ah){return ag.appendChild(n(ah))}function f(ag){N[C]=v.call(N[C],0,-2)+h+ag}function r(){var ah=X.node.insertBefore(n("div"),X.node.firstChild),ai,ag;if(ab){ag="error";ai="There Are Errors: "+ab}else{if(A){ag="fail";ai=A+" Tests Failed"}else{ag="pass";ai="Passed "+q+" Tests"}}ah[C]="<strong>"+ai+"</strong>";ah.className=ag}function E(){var ag=this.lastChild.style;ag.display=ag.display=="none"?"block":"none"}function c(ag){N[C]+="<ul>"+B+t.call(ag,d+B)+d+"</ul>";(N.onclick=E).call(N)}function p(){F(P);b("teardown");q+=a[af];A+=s[af];ab+=R[af];f("("+t.call([a[af],K=s[af],R[af]],", ")+")");N=N.parentNode;R[af]?c(R,U="error"):(K?c(s,U="fail"):U="pass");N.className=U;K=0;U=h;i()}function b(ag){if(ae(y,ag)){try{y[ag](Z)}catch(ah){Y.call(R,h+ah)}}}function ae(ah,ag){return o.call(ah,ag)}function u(){return D()<0.5?-1:1}var X={assert:function S(ah,ag){if(arguments[af]==1){ag=ah;ah=O}x=G;Y.call(ag?a:s,U+ah);return ag},async:function T(ah,ak,ai,aj){aj=++L;if(typeof ah=="function"){ai=ak;ak=ah;ah="asynchronous test #"+aj}ai=V(function(){aj=0;Y.call(s,ah);--L||(P=V(p,0))},J(ai||w)||w);return function ag(){if(!aj){return}x=ac;U=ah+": ";try{ak.apply(this,arguments)}catch(al){x=G;Y.call(R,U+al)}U=h;if(x){F(ai);--L||(P=V(p,0))}}},test:function m(ag){l=H.apply(l,[ag]);X.random&&ad.call(l,u);L||i()}},G=true,ac=!G,w=100,h=" ",O="unknown",af="length",Q="name",e="description",B="<li>",d="</li>",j="\\|/-",o=X.hasOwnProperty,U=h,aa=U.charAt,v=U.slice,l=[],H=l.concat,t=l.join,Y=l.push,I=l.shift,ad=l.sort,L=0,K=0,q=0,A=0,ab=0,P=0,C="innerHTML",g=W.document,M=g.createElement,z,J,D,V,F,y,N,a,s,R,Z,x;z=W.Math;J=z.abs;D=z.random;V=W.setTimeout;F=W.clearTimeout;X.node=(g.getElementById("wru")||g.body||g.documentElement);W.setInterval(function(){L&&f(aa.call(j,K++%4))},w);w*=w;X.random=ac;return X}(this);