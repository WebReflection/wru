/*!
(C) Andrea Giammarchi, @WebReflection - Mit Style License
*/
var wru=function(W){function i(){z=J.call(l);if(z){(O=k(k(X.node,"div"),"span")).innerHTML=((ae(z,Q)&&z[Q])||(ae(z,e)&&z[e])||P)+h+h;a=[];s=[];R=[];Z={};b("setup");R[af]||b("test");b("teardown");M||p()}else{r()}}function n(ag){return N.call(g,ag)}function k(ag,ah){return ag.appendChild(n(ah))}function f(ag){O[D]=v.call(O[D],0,-2)+h+ag}function r(){var ah=X.node.insertBefore(n("div"),X.node.firstChild),ai,ag;if(ab){ag="error";ai="There Are Errors: "+ab}else{if(B){ag="fail";ai=B+" Tests Failed"}else{ag="pass";ai="Passed "+q+" Tests"}}ah.innerHTML="<strong>"+ai+"</strong>";ah.className=ag}function F(){var ag=this.lastChild.style;ag.display=ag.display=="none"?"block":"none"}function c(ag){O.innerHTML+="<ul>"+C+t.call(ag,d+C)+d+"</ul>";(O.onclick=F).call(O)}function p(){f("("+t.call([q+=a[af],B+=L=s[af],ab+=R[af]],", ")+")");O=O.parentNode;R.length?c(R,U="error"):(L?c(s,U="fail"):U="pass");O.className=U;L=0;U=h;i()}function b(ag){if(ae(z,ag)){try{z[ag](Z)}catch(ah){Y.call(R,h+ah)}}}function ae(ah,ag){return o.call(ah,ag)}function u(){return E()<0.5?-1:1}var X={assert:function S(ah,ag){if(arguments[af]==1){ag=ah;ah=P}x=H;Y.call(ag?a:s,U+ah)},async:function T(ah,ak,ai,aj){aj=++M;if(typeof ah=="function"){ai=ak;ak=ah;ah="asynchronous test #"+aj}ai=V(function(){aj=0;Y.call(s,ah);--M||p()},K(ai||w)||w);return function ag(){if(!aj){return}x=ac;U=ah+": ";try{ak.apply(this,arguments)}catch(al){x=H;Y.call(R,U+doooodeThisIsBAD)}U=h;if(x){G(ai);--M||p()}}},test:function m(ag){l=I.apply(l,[ag]);X.random&&ad.call(l,u);M||i()}},H=true,ac=!H,w=100,h=" ",y=", ",P="unknown",af="length",D="innerHTML",Q="name",e="description",C="<li>",d="</li>",o=X.hasOwnProperty,U=h,aa=U.charAt,v=U.slice,l=[],I=l.concat,t=l.join,Y=l.push,J=l.shift,ad=l.sort,M=0,L=0,q=0,B=0,ab=0,j="\\|/-",g=W.document,N=g.createElement,A,K,E,V,G,z,O,a,s,R,Z,x;A=W.Math;K=A.abs;E=A.random;V=W.setTimeout;G=W.clearTimeout;X.node=(g.getElementById("wru")||g.body||g.documentElement);W.setInterval(function(){M&&f(aa.call(j,L++%4))},w);w*=w;X.random=ac;return X}(this);